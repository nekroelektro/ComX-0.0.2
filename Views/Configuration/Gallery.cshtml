@using ComX_0._0._2.Helpers
@model IEnumerable<ComX_0._0._2.Models.ImagesGallery>
@{
    Layout = "~/Views/Configuration/_Configuration.cshtml";
    ArticleHelper articleHelper = new ArticleHelper();
}
@using (Html.BeginForm("Gallery", "Configuration", FormMethod.Post,
    new {enctype = "multipart/form-data"})) {
    @Html.AntiForgeryToken()
    <div class="form-horizontal">
        <hr/>
        @Html.ValidationSummary(true, "", new {@class = "text-danger"})
        <div class="form-group">
            @Html.Label("Upload image", new {@class = "control-label col-md-2"})
            <div class="col-md-10">
                <input type="file" id="imgUp" name="image"/>
            </div>
            @*@Html.ValidationMessage("ImageUpload", new {@style = "color: red"})*@
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Upload" class="btn btn-default"/>
            </div>
        </div>
    </div>
}
<div class="galleryContainer">
    <h3>NekroPlaza gallery:</h3>
    @foreach (var item in Model) {
        <div class="col-xs-3 singleGalleryImage" style="height: 18em;">
            <a class="fancybox" rel="group" href='@Url.Content(articleHelper.GetGalleryImageRelativePathByName(item.Name))'>
                <img src='@Url.Content(articleHelper.GetGalleryImageRelativePathByName(item.Name))' style="max-height: 100%; max-width: 100%; text-align: center; margin: 0 auto;"/>
            </a>
        </div>
    }
</div>

<script>
	$(document).ready(function() {
		$(".fancybox").fancybox();
	});
</script>

